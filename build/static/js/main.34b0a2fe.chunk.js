(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{194:function(e,t,a){e.exports=a(333)},203:function(e,t,a){},205:function(e,t,a){e.exports=a.p+"static/media/cae-logo.c76eeacf.png"},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a(79),i=a(170),s=(a(203),a(20)),c=a(17),u=a(22),m=a(21),d=a(23),b=a(54),v=a(45),p=a(171),g=a(88),h=a(380),j=a(379),f=a(378),y=a(396),E=a(395),O=a(382),k=a(155),S=a.n(k),w=a(381),C=a(383),x=a(399),N=a(398),D=a(334),K=a(37),F=Object(D.a)(function(e){return{root:{display:"flex"},drawer:Object(g.a)({},e.breakpoints.up("sm"),{width:200,flexShrink:0}),appBar:Object(g.a)({marginLeft:200},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(200,"px)")}),menuButton:Object(g.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:200},content:{flexGrow:1,padding:e.spacing(3)},logo:{flex:1,maxWidth:199,maxHeight:64}}});var P=Object(v.f)(function(e){var t=e.container,l=e.children,o=e.location.pathname,i=F(),s=(Object(K.a)(),r.a.useState(!1)),c=Object(p.a)(s,2),u=c[0],m=c[1];function d(){m(!u)}var v=r.a.createElement("div",{className:i.toolbar},r.a.createElement("div",{style:{paddingTop:45,paddingBottom:45,textAlign:"center",alignItems:"center"}},r.a.createElement("img",{src:a(205),className:i.logo})),r.a.createElement(x.a,null,r.a.createElement(f.a,null),r.a.createElement(N.a,{component:b.b,to:"/",selected:"/"===o},"Dashboard"),r.a.createElement(f.a,null),r.a.createElement(N.a,{component:b.b,to:"/myobjectives",selected:"/myobjectives"===o},"My Objectives"),r.a.createElement(f.a,null),r.a.createElement(N.a,{component:b.b,to:"/newobjectives",selected:"/newobjectives"===o},"New Objective"),r.a.createElement(f.a,null),r.a.createElement(N.a,{component:b.b,to:"/deleteobjectives",selected:"/deleteobjectives"===o},"Delete Objectives"),r.a.createElement(f.a,null)));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:i.root},r.a.createElement(j.a,null),r.a.createElement(h.a,{position:"fixed",className:i.appBar},r.a.createElement(w.a,null,r.a.createElement(O.a,{color:"inherit","aria-label":"Open drawer",edge:"start",onClick:d,className:i.menuButton},r.a.createElement(S.a,null)),r.a.createElement(C.a,{variant:"h6",noWrap:!0},"OKR Tool"))),r.a.createElement("nav",{className:i.drawer,"aria-label":"Mailbox folders"},r.a.createElement(E.a,{smUp:!0,implementation:"css"},r.a.createElement(y.a,{container:t,variant:"temporary",open:u,onClose:d,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0}},v)),r.a.createElement(E.a,{xsDown:!0,implementation:"css"},r.a.createElement(y.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0},v))),r.a.createElement("main",{className:i.content},r.a.createElement("div",{className:i.toolbar}),l)))}),T=a(386),z=a(16),B=a.n(z),R=a(384),q=a(385),I=a(393),H=a(401),M=(a(230),Object(D.a)({maincard:{margin:10,minWidth:300},secondarycard:{margin:5},owner:{textAlign:"right"}}));function W(e){var t=M(),a=e.keyobjectives.map(function(a){var n="";return n=a.progress/a.goalnumber<.35?"red":a.progress/a.goalnumber<.7?"yellow":"green",null==e.keyobjectiveowner?"boolean"==a.valuetype?r.a.createElement(R.a,{className:t.secondarycard},r.a.createElement(q.a,null,r.a.createElement(I.a,{value:a.progress,color:n,total:a.goalnumber,indicating:!0,size:"small"},a.name))):"percentage"==a.valuetype?r.a.createElement(R.a,{className:t.secondarycard},r.a.createElement(q.a,null,r.a.createElement(I.a,{value:a.progress,color:n,total:a.goalnumber,progress:"percent",indicating:!0,size:"small"},a.name))):r.a.createElement(R.a,{className:t.secondarycard},r.a.createElement(q.a,null,r.a.createElement(I.a,{value:a.progress,color:n,total:a.goalnumber,progress:"value",indicating:!0,size:"small"},a.name))):e.keyobjectiveowner===a.owner?"boolean"==a.valuetype?r.a.createElement(R.a,{className:t.secondarycard},r.a.createElement(q.a,null,r.a.createElement(I.a,{value:a.progress,color:n,total:a.goalnumber,indicating:!0,size:"small"},a.name),r.a.createElement(C.a,{id:"discrete-sliderkey",gutterBottom:!0},"Edit:"),r.a.createElement(H.a,{defaultValue:a.progress,"aria-labelledby":"KeyResults Slider",step:1,marks:[{value:0,label:""},{value:1,label:"Done"}],min:0,max:a.goalnumber,onChange:function(t,n){return e.onChange(t,n,a.keyid,a.id)}}))):"percentage"==a.valuetype?r.a.createElement(R.a,{className:t.secondarycard},r.a.createElement(q.a,null,r.a.createElement(I.a,{value:a.progress,color:n,total:a.goalnumber,progress:"percent",indicating:!0,size:"small"},a.name),r.a.createElement(C.a,{id:"discrete-sliderkey",gutterBottom:!0},"Edit:"),r.a.createElement(H.a,{defaultValue:a.progress,"aria-labelledby":"KeyResults Slider",valueLabelDisplay:"auto",step:1,marks:!0,min:0,max:a.goalnumber,onChange:function(t,n){return e.onChange(t,n,a.keyid,a.id)}}))):r.a.createElement(R.a,{className:t.secondarycard},r.a.createElement(q.a,null,r.a.createElement(I.a,{value:a.progress,color:n,total:a.goalnumber,progress:"value",indicating:!0,size:"small"},a.name),r.a.createElement(C.a,{id:"discrete-sliderkey",gutterBottom:!0},"Edit:"),r.a.createElement(H.a,{defaultValue:a.progress,"aria-labelledby":"KeyResults Slider",valueLabelDisplay:"auto",step:1,marks:!0,min:0,max:a.goalnumber,onChange:function(t,n){return e.onChange(t,n,a.keyid,a.id)}}))):null});return 1==function(e){for(var t=0;t<e.length;t++)if(null!==e[t])return!0;return!1}(a)?r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{item:!0,md:"auto"},r.a.createElement(R.a,{className:t.maincard},r.a.createElement(q.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",color:"textPrimary",component:"h2"},"Objective: ",e.objectivename),r.a.createElement(C.a,{color:"textSecondary"},"Owner: ",e.supervisor),r.a.createElement(I.a,{percent:e.progress,progress:!0,indicating:!0,size:"medium"},"Overall Progress"),a)))):r.a.createElement(r.a.Fragment,null)}var V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getData=function(){B.a.get("/obj").then(function(e){a.setState({objectives:e.data.recordset})}),B.a.get("/keyobj").then(function(e){a.setState({keyobjectives:e.data.recordset})})},a.state={objectives:[],keyobjectives:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData(),setInterval(this.getData,5e3)}},{key:"findKeyObjectives",value:function(e){return this.state.keyobjectives.filter(function(t){return t.id==e})}},{key:"makeObjective",value:function(){var e=this;return this.state.objectives.map(function(t){return r.a.createElement(W,{objectivename:t.name,supervisor:t.supervisor,progress:t.progress,keyobjectives:e.findKeyObjectives(t.id)})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(T.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start"},this.makeObjective())))}}]),t}(n.Component),L=a(24),A=a(168),G=a.n(A),J=a(387),U=Object(D.a)(function(e){return{fab:{position:"fixed",bottom:30,right:30,top:"auto",left:"auto",margin:0}}});function $(e){var t=U();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{variant:"extended",size:"small",type:e.type,color:"primary",className:t.fab,onClick:e.clicked},r.a.createElement(G.a,{fontSize:"large"}),e.text))}var Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSliderChange=function(e,t,n,r){var l=a.state.keyobjectives.slice(),o=l.findIndex(function(e){return e.keyid==n});l[o].progress=t,a.setState({keyobjectives:l},a.updateOverallProgress(r))},a.updateOverallProgress=function(e){var t=a.state.objectives.slice(),n=t.findIndex(function(t){return t.id==e}),r=a.findKeyObjectives(e),l=r.reduce(function(e,t){return e+t.progress/t.goalnumber},0),o=Math.round(l/r.length*100);t[n].progress=o,a.setState({objectives:t})},a.state={objectives:[],keyobjectives:[],user:"",fullname:""},a.handleSubmit=a.handleSubmit.bind(Object(L.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.get("/obj").then(function(t){e.setState({objectives:t.data.recordset})}),B.a.get("/keyobj").then(function(t){e.setState({keyobjectives:t.data.recordset})}),B.a.get("http://localhost:5000/username",{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data.slice(7);e.setState({user:a}),console.log(e.state.user)}).then(function(){B.a.post("/getusername",{user:e.state.user}).then(function(t){console.log(t),e.setState({fullname:t.data.recordset[0].firstname+" "+t.data.recordset[0].lastname})})})}},{key:"findKeyObjectives",value:function(e){return this.state.keyobjectives.filter(function(t){return t.id==e})}},{key:"makeObjective",value:function(){var e=this;return this.state.objectives.map(function(t){return r.a.createElement(W,{objectivename:t.name,supervisor:t.supervisor,keyobjectiveowner:e.state.fullname,progress:t.progress,keyobjectives:e.findKeyObjectives(t.id),onChange:e.handleSliderChange})})}},{key:"handleSubmit",value:function(e){e.preventDefault(),alert("Saved Successfully"),B.a.post("/updateprog",{objectives:this.state.objectives,keyobjectives:this.state.keyobjectives}).then(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello ",this.state.fullname,", here are your OKR Objectives:"),r.a.createElement(T.a,{container:!0,justify:"space-evenly"},this.makeObjective()),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement($,{text:"Save",type:"Submit"})))}}]),t}(n.Component),X=a(67),Y=a(397),Z=Object(D.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},dense:{marginTop:19},menu:{width:200}}});function _(e){var t=Z();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{required:!0,id:"standard-name",label:"Objective Name",name:"objname",className:t.textField,margin:"normal",onChange:e.onChangeName}),r.a.createElement(Y.a,{required:!0,id:"standard-uncontrolled",label:"Supervisor Name",name:"Owner",className:t.textField,margin:"normal",onChange:e.onChangeSupervisor}),r.a.createElement(Y.a,{id:"standard-required",label:"Description",name:"description",className:t.textField,margin:"normal",multiline:!0,onChange:e.onChangeDescription}))}var ee=a(391),te=a(169),ae=a.n(te),ne=a(389),re=a(392),le=a(400),oe=a(390),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),a.setState({hasError:!1}),a.setState({ownerHasError:!1}),a.state.valuetype?a.state.owner?(a.props.addKeyObjective(a.state.name,a.state.owner,a.state.valuetype,a.state.goalnumber,a.state.description),a.setState({name:"",owner:"",valuetype:"",goalnumber:"",description:""})):a.setState({ownerHasError:!0}):a.setState({valueHasError:!0})},a.onChangeName=function(e){return a.setState({name:e.target.value})},a.onChangeOwner=function(e){return a.setState({owner:e.target.value})},a.onChangeValueType=function(e){"boolean"==e.target.value?a.setState({goalnumber:1}):"percentage"==e.target.value&&a.setState({goalnumber:"100"}),a.setState({valuetype:e.target.value})},a.onChangeGoalnumber=function(e){var t=e.target.value.replace(/[^0-9]/g,"");a.setState({goalnumber:t})},a.onChangeDescription=function(e){return a.setState({description:e.target.value})},a.renderSelectOptions=function(){var e=a.props.users.map(function(e){return{value:e.firstname+" "+e.lastname,label:e.firstname+" "+e.lastname}});return(e=e.sort(function(e,t){var a=e.value.toLowerCase(),n=t.value.toLowerCase();return a<n?-1:a>n?1:0})).map(function(e){return r.a.createElement(N.a,{value:e.value},e.label)})},a.state={name:"",owner:"",valuetype:"",goalnumber:"",description:"",valueHasError:!1,ownerHasError:!1,users:a.props.users},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit,style:{display:"flex"}},r.a.createElement(Y.a,{required:!0,multiline:!0,id:"standard-name",label:"Name",margin:"normal",value:this.state.name,onChange:this.onChangeName}),r.a.createElement(ne.a,{required:!0,margin:"normal",style:{minWidth:150}},r.a.createElement(le.a,{required:!0},"Owner"),r.a.createElement(re.a,{value:this.state.owner,onChange:this.onChangeOwner},this.renderSelectOptions()),this.state.ownerHasError&&r.a.createElement(oe.a,null,"This is required!")),r.a.createElement(ne.a,{required:!0,margin:"normal",style:{minWidth:150}},r.a.createElement(le.a,{required:!0},"Target Value Type"),r.a.createElement(re.a,{value:this.state.valuetype,onChange:this.onChangeValueType},r.a.createElement(N.a,{value:"boolean"},"Boolean"),r.a.createElement(N.a,{value:"percentage"},"Percentage"),r.a.createElement(N.a,{value:"custom"},"Custom value")),this.state.valueHasError&&r.a.createElement(oe.a,null,"This is required!")),r.a.createElement(Y.a,{required:!0,id:"standard-name",label:"Custom Value",margin:"normal",value:this.state.goalnumber,onChange:this.onChangeGoalnumber,disabled:!("custom"==this.state.valuetype)}),r.a.createElement(Y.a,{multiline:!0,id:"standard-name",label:"Description",margin:"normal",value:this.state.description,onChange:this.onChangeDescription}),r.a.createElement(ee.a,{size:"medium",color:"primary",type:"submit"},r.a.createElement(ae.a,null),"Add"))}}]),t}(n.Component),se=a(109),ce=a.n(se),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).makeKeyObjectives=function(){return a.props.keyobjectives.map(function(e){return"boolean"==e.valuetype||"percentage"==e.valuetype?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{style:{margin:10,maxWidth:400,position:"relative"}},r.a.createElement(q.a,null,r.a.createElement(C.a,null,"Name: ",e.name),r.a.createElement(C.a,null,"Owner: ",e.owner),r.a.createElement(C.a,null,"Target Value Type: ",e.valuetype),r.a.createElement(C.a,null,"Description: ",e.description)),r.a.createElement(ee.a,{style:me,size:"small",variant:"contained",color:"primary",onClick:a.props.delKeyObjective.bind(Object(L.a)(a),e.keyid)},r.a.createElement(ce.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{style:{margin:10,maxWidth:400,position:"relative"}},r.a.createElement(q.a,null,r.a.createElement(C.a,null,"Name: ",e.name),r.a.createElement(C.a,null,"Owner: ",e.owner),r.a.createElement(C.a,null,"Custom Target Value: ",e.goalnumber),r.a.createElement(C.a,null,"Description: ",e.description)),r.a.createElement(ee.a,{style:me,size:"small",variant:"contained",color:"primary",onClick:a.props.delKeyObjective.bind(Object(L.a)(a),e.keyid)},r.a.createElement(ce.a,null))))})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.makeKeyObjectives())}}]),t}(n.Component),me={position:"absolute",bottom:50,left:300},de=a(110),be=a.n(de),ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeName=function(e){a.setState({objName:e.target.value},function(){})},a.handleChangeSupervisor=function(e){a.setState({objSupervisor:e.target.value},function(){})},a.handleChangeDescription=function(e){a.setState({objDescription:e.target.value},function(){})},a.addKeyObjective=function(e,t,n,r,l){var o={progress:"0",name:e,owner:t,valuetype:n,goalnumber:r,description:l,keyid:be.a.v4(),id:a.state.objId};a.setState({keyobjectives:[].concat(Object(X.a)(a.state.keyobjectives),[o])})},a.delKeyResult=function(e){a.setState({keyobjectives:Object(X.a)(a.state.keyobjectives.filter(function(t){return t.keyid!==e}))})},a.state={objId:be.a.v4(),objName:"",objSupervisor:"",objProgress:"0",objDescription:"",keyobjectives:[],users:[]},a.handleSubmit=a.handleSubmit.bind(Object(L.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.get("/getallusers").then(function(t){e.setState({users:t.data.recordset})})}},{key:"handleSubmit",value:function(e){this.state.keyobjectives.length>0?(alert("Submitted Successfully"),B.a.post("/newobj",{id:this.state.objId,name:this.state.objName,supervisor:this.state.objSupervisor,progress:this.state.objProgress,description:this.state.objDescription}).then(B.a.post("/newkeyobj",{keyobjectives:this.state.keyobjectives}))):(e.preventDefault(),alert("Please add at least one Key Result"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Create New Objective:"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(_,{onChangeName:this.handleChangeName,onChangeSupervisor:this.handleChangeSupervisor,onChangeDescription:this.handleChangeDescription}),r.a.createElement($,{text:"Submit",type:"submit"})),r.a.createElement("h2",null,"Add Key Results:"),r.a.createElement(T.a,null,r.a.createElement(ie,{addKeyObjective:this.addKeyObjective,users:this.state.users}),r.a.createElement(ue,{keyobjectives:this.state.keyobjectives,delKeyObjective:this.delKeyResult})))}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSliderChange=function(e,t,n,r){var l=a.state.keyobjectives.slice(),o=l.findIndex(function(e){return e.keyid==n});l[o].progress=t,a.setState({keyobjectives:l},a.updateOverallProgress(r))},a.updateOverallProgress=function(e){var t=a.state.objectives.slice(),n=t.findIndex(function(t){return t.id==e}),r=a.findKeyObjectives(e),l=r.reduce(function(e,t){return e+t.progress/t.goalnumber},0),o=Math.round(l/r.length*100);t[n].progress=o,a.setState({objectives:t})},a.state={objectives:[],keyobjectives:[],user:"",fullname:""},a.handleSubmit=a.handleSubmit.bind(Object(L.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.get("/obj").then(function(t){e.setState({objectives:t.data.recordset})}),B.a.get("/keyobj").then(function(t){e.setState({keyobjectives:t.data.recordset})}),B.a.get("http://localhost:5000/username",{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){var a=t.data.slice(7);e.setState({user:a})}).then(function(){B.a.post("/getusername",{user:e.state.user}).then(function(t){e.setState({fullname:t.data.recordset[0].firstname+" "+t.data.recordset[0].lastname})})})}},{key:"findKeyObjectives",value:function(e){return this.state.keyobjectives.filter(function(t){return t.id==e})}},{key:"makeObjective",value:function(){var e=this;return this.state.objectives.map(function(t){return r.a.createElement(W,{objectivename:t.name,supervisor:t.supervisor,keyobjectiveowner:e.state.fullname,progress:t.progress,keyobjectives:e.findKeyObjectives(t.id),onChange:e.handleSliderChange})})}},{key:"handleSubmit",value:function(e){e.preventDefault(),alert("Saved Successfully"),B.a.post("/updateprog",{objectives:this.state.objectives,keyobjectives:this.state.keyobjectives}).then(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello ",this.state.fullname,", here are your OKR Objectives:"),r.a.createElement(T.a,{container:!0,justify:"space-evenly"},this.makeObjective()),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement($,{text:"Save",type:"Submit"})))}}]),t}(n.Component),ge=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(P,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:V}),r.a.createElement(v.a,{path:"/myobjectives",component:Q}),r.a.createElement(v.a,{path:"/newobjectives",component:ve}),r.a.createElement(v.a,{path:"/deleteobjectives",component:pe}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=function(e,t){return e},je=Object(o.b)(he);Object(l.render)(r.a.createElement(i.a,{store:je},r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[194,1,2]]]);
//# sourceMappingURL=main.34b0a2fe.chunk.js.map